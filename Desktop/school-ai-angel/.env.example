# Complete Environment Configuration for All Three AI Tiers
# Copy to angels-ai-school/webapp/.env

# ============================================
# CORE MODE (Offline - 200MB, >1GB RAM)
# ============================================
# Set VITE_AI_MODE=core for offline-only deployment
# All AI processing happens on-device
# No cloud dependencies required

# ============================================
# HYBRID MODE (Smart Sync - 50MB, 512MB RAM) ⭐ RECOMMENDED
# ============================================
# Set VITE_AI_MODE=hybrid for balanced deployment
# On-device AI + Cloud sync for results

# AI Configuration
VITE_AI_MODE=hybrid
VITE_AI_DEFAULT_MODE=hybrid
VITE_AI_SYNC_ENABLED=true
VITE_AI_FALLBACK_DEFAULT=false
VITE_MAX_RAM_MB=512

# Cloudflare R2 (10GB Free Tier - For result storage)
VITE_R2_ENDPOINT=https://your-account.r2.cloudflarestorage.com
VITE_R2_PUBLIC_URL=https://pub-xxxxx.r2.dev
VITE_R2_BUCKET=angels-ai-results
VITE_R2_ACCESS_KEY_ID=your-r2-access-key
VITE_R2_SECRET_ACCESS_KEY=your-r2-secret-key

# Supabase (Database & Auth)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
VITE_STORAGE_QUOTA_MB=500

# ============================================
# FLASH MODE (Cloud - 30MB, 256MB RAM)
# ============================================
# Set VITE_AI_MODE=flash for lightest deployment
# Uses cloud AI APIs (optional costs apply)

# Cloud AI Fallback (Optional - User can enable)
VITE_ALLOW_CLOUD_FALLBACK=true
VITE_CLOUD_FALLBACK_DEFAULT=false

# OpenAI API (Optional - for Flash mode cloud processing)
VITE_OPENAI_API_KEY=optional-leave-empty-for-user-provided

# Anthropic API (Optional - cheaper alternative)
VITE_ANTHROPIC_API_KEY=optional-leave-empty

# ============================================
# LANGUAGE SUPPORT
# ============================================
VITE_DEFAULT_LANGUAGE=en  # en, lg (Luganda), sw (Swahili)
VITE_SUPPORTED_LANGUAGES=en,lg,sw

# ============================================
# GOOGLE OAUTH
# ============================================
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client-id

# ============================================
# GENERAL APP CONFIGURATION
# ============================================
VITE_API_URL=http://localhost:8000
VITE_APP_NAME=Angels AI School
VITE_ENVIRONMENT=development

# ============================================
# A/B TESTING & EXPERIMENTS
# ============================================
VITE_ENABLE_AB_TESTING=true
VITE_EXPERIMENT_TRACKING=true

# ============================================
# PHOTO & DOCUMENT FEATURES
# ============================================
VITE_MAX_PHOTO_SIZE_MB=5
VITE_ENABLE_ID_CARDS=true
VITE_ENABLE_PASSOUT_SLIPS=true
VITE_ENABLE_REPORT_CARDS=true

---

# ============================================
# BACKEND (.env for api folder)
# ============================================

# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/angels_ai
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key

# Cloudflare R2 (Backend Access)
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET=angels-ai-results
R2_ENDPOINT=https://your-account.r2.cloudflarestorage.com

# JWT Secret
JWT_SECRET=your-ultra-secure-secret-key-256-bit-minimum

# AI Experiments & A/B Testing
ENABLE_AB_TESTING=true
EXPERIMENT_LOGGING=true

# Cloud AI APIs (Optional - for Flash mode fallback)
OPENAI_API_KEY=optional
ANTHROPIC_API_KEY=optional

# Photo Processing
MAX_UPLOAD_SIZE_MB=10
PHOTO_QUALITY=95
ID_CARD_DPI=300
REPORT_CARD_DPI=300

# WhatsApp Business API (Optional - for messaging)
WHATSAPP_API_KEY=optional
WHATSAPP_PHONE_NUMBER_ID=optional

# SMS Provider (Optional - for messaging)
AFRICA_TALKING_API_KEY=optional
AFRICA_TALKING_USERNAME=optional

# ============================================
# DEPLOYMENT SETTINGS
# ============================================
PORT=8000
ENVIRONMENT=production
ALLOWED_ORIGINS=https://your-frontend.vercel.app,https://your-domain.com
CORS_ENABLED=true

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_AI_MODE_HYBRID=true
FEATURE_AI_MODE_CORE=true
FEATURE_AI_MODE_FLASH=true
FEATURE_MULTI_LANGUAGE=true
FEATURE_ID_CARDS=true
FEATURE_PASSOUT_SLIPS=true
FEATURE_REPORT_CARDS_WITH_PHOTOS=true

---

# ============================================
# SETUP INSTRUCTIONS
# ============================================

## For Core Mode (Offline)
1. Set VITE_AI_MODE=core
2. No cloud configuration needed
3. Run: npm run build
4. Deploy as PWA

## For Hybrid Mode (Recommended)
1. Sign up for Cloudflare R2: https://dash.cloudflare.com/
2. Create bucket: angels-ai-results
3. Generate R2 API tokens
4. Sign up for Supabase: https://supabase.com/
5. Create project and copy credentials
6. Update .env with R2 and Supabase keys
7. Run: npm install && npm run build
8. Deploy to Vercel

## For Flash Mode (Lightest)
1. Same as Hybrid setup
2. Set VITE_AI_MODE=flash
3. Optionally add OpenAI/Anthropic keys
4. Deploy

---

# ============================================
# COST BREAKDOWN (Free Tiers)
# ============================================

Cloudflare R2:
  - Storage: 10 GB FREE
  - Operations: 1M writes/month FREE
  - Operations: 10M reads/month FREE
  - Egress: FREE (no data transfer fees)
  - Cost: $0/month for 50,000+ schools

Supabase:
  - Database: 500 MB FREE
  - Bandwidth: 1 GB/month FREE  
  - Rows: Unlimited FREE
  - Cost: $0/month

Total Infrastructure Cost: $0/month for 95%+ of schools

WhatsApp/SMS (Optional):
  - Only charged if schools enable
  - ~$0.01-0.05 per message
  - Paid via mobile money by school

---

# ============================================
# VERIFICATION CHECKLIST
# ============================================

□ Cloudflare R2 bucket created
□ Supabase project created  
□ Environment variables configured
□ Google OAuth credentials added
□ AI mode selected (core/hybrid/flash)
□ Language support enabled
□ Photo features enabled
□ Dependencies installed (npm install)
□ Backend dependencies installed (pip install -r requirements.txt)
□ Database migrations run
□ Test all three AI modes
□ Test photo upload
□ Test ID card generation
□ Test pass-out slips
□ Test report cards with photos
□ Verify high-quality printing (300 DPI)
□ Deploy to production
